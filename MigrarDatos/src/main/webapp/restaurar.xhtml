<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Develcom DW4J</title>
    </h:head>
    <h:body>
        <p:layout>
            <p:layoutUnit position="center">
                <h:form id="migrarDatos">
                    <!--<p:growl  id="growl" showDetail="true" showSummary="true" globalOnly="true"/>--> 
                    <table align="center">
                        <tr>
                            <td>
                                <p:messages globalOnly="true"/>
                            </td>
                        </tr>
                    </table>
                    <h:panelGroup>
                        <p:panel header="Restauracion de datos">
                            <table align="center">
                                <tr>
                                    <td align="center">
                                        <p:commandButton value="Restaurar" action="#{recuperaBean.restaurarDatos()}" update="migrarDatos"/>
                                    </td>
                                    <td align="center">
                                        <p:commandButton value="Regresar" action="/index.xhtml" update="migrarDatos"/>
                                    </td>
                                </tr>
                            </table>

                            <p:ajaxStatus style="display:block;margin-bottom:2em;height:24px;">
                                <f:facet name="default">
                                    <h:outputText value="Status: StandBy" />
                                </f:facet>

                                <f:facet name="start">
                                    <p:graphicImage name="/image/ajax-loader.gif" />
                                </f:facet>

                                <f:facet name="complete">
                                    <h:outputText value="Status: Completed" />
                                </f:facet>
                            </p:ajaxStatus>

                            <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />
                            
                    <table align="center">
                        <tr>
                            <td>
                                <p:messages for="expediente" showDetail="true"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <p:messages for="datosAdicionales" showDetail="true"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <p:messages for="infoDocumento" showDetail="true"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <p:messages for="finalizado" showDetail="true"/>
                            </td>
                        </tr>
                    </table>

<!--                            <p:dialog widgetVar="statusDialog" modal="true" draggable="false" 
                                      closable="false" resizable="false" showHeader="false">
                                <p:outputLabel value="Espere esto pueder tardar varios minutos"/>
                                <p:graphicImage name="/image/ajax-loader.gif" />
                            </p:dialog>-->
                        </p:panel>
                    </h:panelGroup>
                </h:form>
            </p:layoutUnit>
        </p:layout>
    </h:body>
</html>

